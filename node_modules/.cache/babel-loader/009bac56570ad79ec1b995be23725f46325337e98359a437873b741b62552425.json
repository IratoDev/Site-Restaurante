{"ast":null,"code":"import React,{useState,useEffect,createContext,useCallback}from'react';import{useInView}from'react-intersection-observer';// Criação do contexto\nimport{jsx as _jsx}from\"react/jsx-runtime\";export const MyContext=/*#__PURE__*/createContext();export const ProviderContext=_ref=>{let{children}=_ref;const[elements,setElements]=useState({});const[ButtonMenu,setButtonMenu]=useState(false);// Usando useCallback para garantir que as funções sejam estáveis\nconst registerElement=useCallback(id=>{setElements(prev=>({...prev,[id]:false}));},[]);const updateElementVisibility=useCallback((id,isVisible)=>{setElements(prev=>({...prev,[id]:isVisible}));},[]);return/*#__PURE__*/_jsx(MyContext.Provider,{value:{elements,ButtonMenu,setButtonMenu,registerElement,updateElementVisibility},children:children});};// ObservedElement movido para fora do contexto\nexport const ObservedElement=_ref2=>{let{id,children}=_ref2;const{registerElement,updateElementVisibility,elements}=React.useContext(MyContext);const[ref,inView]=useInView({triggerOnce:true,threshold:0.1});useEffect(()=>{registerElement(id);},[id,registerElement]);useEffect(()=>{if(inView){updateElementVisibility(id,true);}},[inView,id,updateElementVisibility]);return/*#__PURE__*/_jsx(\"div\",{ref:ref,className:elements[id]?'element visible':'element',children:children});};export const useMyContext=()=>React.useContext(MyContext);","map":{"version":3,"names":["React","useState","useEffect","createContext","useCallback","useInView","jsx","_jsx","MyContext","ProviderContext","_ref","children","elements","setElements","ButtonMenu","setButtonMenu","registerElement","id","prev","updateElementVisibility","isVisible","Provider","value","ObservedElement","_ref2","useContext","ref","inView","triggerOnce","threshold","className","useMyContext"],"sources":["C:/Users/renan/OneDrive/Área de Trabalho/estudo de programação/Projetos para o git hub/Sites/restaurante/src/Mycontext/Context.js"],"sourcesContent":["import React, { useState, useEffect, createContext, useCallback } from 'react';\r\nimport { useInView } from 'react-intersection-observer';\r\n\r\n// Criação do contexto\r\nexport const MyContext = createContext();\r\n\r\nexport const ProviderContext = ({ children }) => {\r\n  const [elements, setElements] = useState({});\r\n  const [ButtonMenu, setButtonMenu] = useState(false);\r\n\r\n  // Usando useCallback para garantir que as funções sejam estáveis\r\n  const registerElement = useCallback((id) => {\r\n    setElements((prev) => ({ ...prev, [id]: false }));\r\n  }, []);\r\n\r\n  const updateElementVisibility = useCallback((id, isVisible) => {\r\n    setElements((prev) => ({ ...prev, [id]: isVisible }));\r\n  }, []);\r\n\r\n  return (\r\n    <MyContext.Provider value={{ elements, ButtonMenu, setButtonMenu, registerElement, updateElementVisibility }}>\r\n      {children}\r\n    </MyContext.Provider>\r\n  );\r\n};\r\n\r\n// ObservedElement movido para fora do contexto\r\nexport const ObservedElement = ({ id, children }) => {\r\n  const { registerElement, updateElementVisibility, elements } = React.useContext(MyContext);\r\n  const [ref, inView] = useInView({\r\n    triggerOnce: true,\r\n    threshold: 0.1,\r\n  });\r\n\r\n  useEffect(() => {\r\n    registerElement(id);\r\n  }, [id, registerElement]);\r\n\r\n  useEffect(() => {\r\n    if (inView) {\r\n      updateElementVisibility(id, true);\r\n    }\r\n  }, [inView, id, updateElementVisibility]);\r\n\r\n  return (\r\n    <div ref={ref} className={elements[id] ? 'element visible' : 'element'}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const useMyContext = () => React.useContext(MyContext);\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,aAAa,CAAEC,WAAW,KAAQ,OAAO,CAC9E,OAASC,SAAS,KAAQ,6BAA6B,CAEvD;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,MAAO,MAAM,CAAAC,SAAS,cAAGL,aAAa,CAAC,CAAC,CAExC,MAAO,MAAM,CAAAM,eAAe,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC5C,KAAM,CAACa,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAEnD;AACA,KAAM,CAAAe,eAAe,CAAGZ,WAAW,CAAEa,EAAE,EAAK,CAC1CJ,WAAW,CAAEK,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAE,CAACD,EAAE,EAAG,KAAM,CAAC,CAAC,CAAC,CACnD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,uBAAuB,CAAGf,WAAW,CAAC,CAACa,EAAE,CAAEG,SAAS,GAAK,CAC7DP,WAAW,CAAEK,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAE,CAACD,EAAE,EAAGG,SAAU,CAAC,CAAC,CAAC,CACvD,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEb,IAAA,CAACC,SAAS,CAACa,QAAQ,EAACC,KAAK,CAAE,CAAEV,QAAQ,CAAEE,UAAU,CAAEC,aAAa,CAAEC,eAAe,CAAEG,uBAAwB,CAAE,CAAAR,QAAA,CAC1GA,QAAQ,CACS,CAAC,CAEzB,CAAC,CAED;AACA,MAAO,MAAM,CAAAY,eAAe,CAAGC,KAAA,EAAsB,IAArB,CAAEP,EAAE,CAAEN,QAAS,CAAC,CAAAa,KAAA,CAC9C,KAAM,CAAER,eAAe,CAAEG,uBAAuB,CAAEP,QAAS,CAAC,CAAGZ,KAAK,CAACyB,UAAU,CAACjB,SAAS,CAAC,CAC1F,KAAM,CAACkB,GAAG,CAAEC,MAAM,CAAC,CAAGtB,SAAS,CAAC,CAC9BuB,WAAW,CAAE,IAAI,CACjBC,SAAS,CAAE,GACb,CAAC,CAAC,CAEF3B,SAAS,CAAC,IAAM,CACdc,eAAe,CAACC,EAAE,CAAC,CACrB,CAAC,CAAE,CAACA,EAAE,CAAED,eAAe,CAAC,CAAC,CAEzBd,SAAS,CAAC,IAAM,CACd,GAAIyB,MAAM,CAAE,CACVR,uBAAuB,CAACF,EAAE,CAAE,IAAI,CAAC,CACnC,CACF,CAAC,CAAE,CAACU,MAAM,CAAEV,EAAE,CAAEE,uBAAuB,CAAC,CAAC,CAEzC,mBACEZ,IAAA,QAAKmB,GAAG,CAAEA,GAAI,CAACI,SAAS,CAAElB,QAAQ,CAACK,EAAE,CAAC,CAAG,iBAAiB,CAAG,SAAU,CAAAN,QAAA,CACpEA,QAAQ,CACN,CAAC,CAEV,CAAC,CAED,MAAO,MAAM,CAAAoB,YAAY,CAAGA,CAAA,GAAM/B,KAAK,CAACyB,UAAU,CAACjB,SAAS,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}