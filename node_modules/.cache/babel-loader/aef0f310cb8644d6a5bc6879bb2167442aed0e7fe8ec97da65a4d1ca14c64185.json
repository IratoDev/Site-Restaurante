{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\renan\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\estudo de programa\\xE7\\xE3o\\\\Projetos para o git hub\\\\Sites\\\\restaurante\\\\src\\\\Mycontext\\\\Context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, createContext, useCallback } from 'react';\nimport { useInView } from 'react-intersection-observer';\n\n// Criação do contexto\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MyContext = /*#__PURE__*/createContext();\nexport const ProviderContext = ({\n  children\n}) => {\n  _s();\n  const [elements, setElements] = useState({});\n  const [ButtonMenu, setButtonMenu] = useState(false);\n\n  // Usando useCallback para garantir que as funções sejam estáveis\n  const registerElement = useCallback(id => {\n    setElements(prev => ({\n      ...prev,\n      [id]: false\n    }));\n  }, []);\n  const updateElementVisibility = useCallback((id, isVisible) => {\n    setElements(prev => ({\n      ...prev,\n      [id]: isVisible\n    }));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(MyContext.Provider, {\n    value: {\n      elements,\n      ButtonMenu,\n      setButtonMenu,\n      registerElement,\n      updateElementVisibility\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n};\n\n// ObservedElement movido para fora do contexto\n_s(ProviderContext, \"n048krCFAkL4q2K5jtME5/e6qUQ=\");\n_c = ProviderContext;\nexport const ObservedElement = ({\n  id,\n  children\n}) => {\n  _s2();\n  const {\n    registerElement,\n    updateElementVisibility,\n    elements\n  } = React.useContext(MyContext);\n  const [ref, inView] = useInView({\n    triggerOnce: true,\n    threshold: 0.1\n  });\n  useEffect(() => {\n    registerElement(id);\n  }, [id, registerElement]);\n  useEffect(() => {\n    if (inView) {\n      updateElementVisibility(id, true);\n    }\n  }, [inView, id, updateElementVisibility]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    className: elements[id] ? 'element visible' : 'element',\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s2(ObservedElement, \"P+nhGnv/jRwse+IQA8kpqIV2C0U=\", false, function () {\n  return [useInView];\n});\n_c2 = ObservedElement;\nexport const useMyContext = () => {\n  _s3();\n  return React.useContext(MyContext);\n};\n_s3(useMyContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c, _c2;\n$RefreshReg$(_c, \"ProviderContext\");\n$RefreshReg$(_c2, \"ObservedElement\");","map":{"version":3,"names":["React","useState","useEffect","createContext","useCallback","useInView","jsxDEV","_jsxDEV","MyContext","ProviderContext","children","_s","elements","setElements","ButtonMenu","setButtonMenu","registerElement","id","prev","updateElementVisibility","isVisible","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","ObservedElement","_s2","useContext","ref","inView","triggerOnce","threshold","className","_c2","useMyContext","_s3","$RefreshReg$"],"sources":["C:/Users/renan/OneDrive/Área de Trabalho/estudo de programação/Projetos para o git hub/Sites/restaurante/src/Mycontext/Context.js"],"sourcesContent":["import React, { useState, useEffect, createContext, useCallback } from 'react';\r\nimport { useInView } from 'react-intersection-observer';\r\n\r\n// Criação do contexto\r\nexport const MyContext = createContext();\r\n\r\nexport const ProviderContext = ({ children }) => {\r\n  const [elements, setElements] = useState({});\r\n  const [ButtonMenu, setButtonMenu] = useState(false);\r\n\r\n  // Usando useCallback para garantir que as funções sejam estáveis\r\n  const registerElement = useCallback((id) => {\r\n    setElements((prev) => ({ ...prev, [id]: false }));\r\n  }, []);\r\n\r\n  const updateElementVisibility = useCallback((id, isVisible) => {\r\n    setElements((prev) => ({ ...prev, [id]: isVisible }));\r\n  }, []);\r\n\r\n  return (\r\n    <MyContext.Provider value={{ elements, ButtonMenu, setButtonMenu, registerElement, updateElementVisibility }}>\r\n      {children}\r\n    </MyContext.Provider>\r\n  );\r\n};\r\n\r\n// ObservedElement movido para fora do contexto\r\nexport const ObservedElement = ({ id, children }) => {\r\n  const { registerElement, updateElementVisibility, elements } = React.useContext(MyContext);\r\n  const [ref, inView] = useInView({\r\n    triggerOnce: true,\r\n    threshold: 0.1,\r\n  });\r\n\r\n  useEffect(() => {\r\n    registerElement(id);\r\n  }, [id, registerElement]);\r\n\r\n  useEffect(() => {\r\n    if (inView) {\r\n      updateElementVisibility(id, true);\r\n    }\r\n  }, [inView, id, updateElementVisibility]);\r\n\r\n  return (\r\n    <div ref={ref} className={elements[id] ? 'element visible' : 'element'}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const useMyContext = () => React.useContext(MyContext);\r\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,aAAa,EAAEC,WAAW,QAAQ,OAAO;AAC9E,SAASC,SAAS,QAAQ,6BAA6B;;AAEvD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAO,MAAMC,SAAS,gBAAGL,aAAa,CAAC,CAAC;AAExC,OAAO,MAAMM,eAAe,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC/C,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC5C,MAAM,CAACa,UAAU,EAAEC,aAAa,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;;EAEnD;EACA,MAAMe,eAAe,GAAGZ,WAAW,CAAEa,EAAE,IAAK;IAC1CJ,WAAW,CAAEK,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAE,CAACD,EAAE,GAAG;IAAM,CAAC,CAAC,CAAC;EACnD,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,uBAAuB,GAAGf,WAAW,CAAC,CAACa,EAAE,EAAEG,SAAS,KAAK;IAC7DP,WAAW,CAAEK,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAE,CAACD,EAAE,GAAGG;IAAU,CAAC,CAAC,CAAC;EACvD,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEb,OAAA,CAACC,SAAS,CAACa,QAAQ;IAACC,KAAK,EAAE;MAAEV,QAAQ;MAAEE,UAAU;MAAEC,aAAa;MAAEC,eAAe;MAAEG;IAAwB,CAAE;IAAAT,QAAA,EAC1GA;EAAQ;IAAAa,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAEzB,CAAC;;AAED;AAAAf,EAAA,CApBaF,eAAe;AAAAkB,EAAA,GAAflB,eAAe;AAqB5B,OAAO,MAAMmB,eAAe,GAAGA,CAAC;EAAEX,EAAE;EAAEP;AAAS,CAAC,KAAK;EAAAmB,GAAA;EACnD,MAAM;IAAEb,eAAe;IAAEG,uBAAuB;IAAEP;EAAS,CAAC,GAAGZ,KAAK,CAAC8B,UAAU,CAACtB,SAAS,CAAC;EAC1F,MAAM,CAACuB,GAAG,EAAEC,MAAM,CAAC,GAAG3B,SAAS,CAAC;IAC9B4B,WAAW,EAAE,IAAI;IACjBC,SAAS,EAAE;EACb,CAAC,CAAC;EAEFhC,SAAS,CAAC,MAAM;IACdc,eAAe,CAACC,EAAE,CAAC;EACrB,CAAC,EAAE,CAACA,EAAE,EAAED,eAAe,CAAC,CAAC;EAEzBd,SAAS,CAAC,MAAM;IACd,IAAI8B,MAAM,EAAE;MACVb,uBAAuB,CAACF,EAAE,EAAE,IAAI,CAAC;IACnC;EACF,CAAC,EAAE,CAACe,MAAM,EAAEf,EAAE,EAAEE,uBAAuB,CAAC,CAAC;EAEzC,oBACEZ,OAAA;IAAKwB,GAAG,EAAEA,GAAI;IAACI,SAAS,EAAEvB,QAAQ,CAACK,EAAE,CAAC,GAAG,iBAAiB,GAAG,SAAU;IAAAP,QAAA,EACpEA;EAAQ;IAAAa,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAACG,GAAA,CAtBWD,eAAe;EAAA,QAEJvB,SAAS;AAAA;AAAA+B,GAAA,GAFpBR,eAAe;AAwB5B,OAAO,MAAMS,YAAY,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMtC,KAAK,CAAC8B,UAAU,CAACtB,SAAS,CAAC;AAAA;AAAC8B,GAAA,CAAjDD,YAAY;AAAA,IAAAV,EAAA,EAAAS,GAAA;AAAAG,YAAA,CAAAZ,EAAA;AAAAY,YAAA,CAAAH,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}